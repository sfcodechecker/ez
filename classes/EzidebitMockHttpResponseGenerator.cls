global class EzidebitMockHttpResponseGenerator implements HttpCalloutMock {
    global HTTPResponse respond(HTTPRequest req) {
        // Optionally, only send a mock response for a specific endpoint
        // and method.
        //System.assertEquals('https://api.demo.ezidebit.com.au/v3-5/nonpci', req.getEndpoint());
       // System.assertEquals('GET', req.getMethod());
       String body = req.getBody();
        HttpResponse res = new HttpResponse();
        res.setHeader('Content-Type', 'text/xml');
        if(req.getBody().contains('<px:GetCustomerList>')){
            res.setBody('<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">'+
            '<s:Body>'+
                '<GetCustomerListResponse xmlns="https://px.ezidebit.com.au/">'+
                    '<GetCustomerListResult xmlns:i="http://www.w3.org/2001/XMLSchema-instance">'+
                        '<Data i:nil="true"/>'+
                        '<Error>102</Error>'+
                        '<ErrorMessage>Invalid DigitalKey.</ErrorMessage>'+
                    '</GetCustomerListResult>'+
            '</GetCustomerListResponse>'+
        '</s:Body>'+
        '</s:Envelope>');
            res.setStatusCode(200);
        }else if(req.getBody().contains('<px:GetScheduledPayments>')){
            res.setBody('<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"> <s:Body> <GetScheduledPaymentsResponse xmlns="https://px.ezidebit.com.au/"> <GetScheduledPaymentsResult xmlns:i="http://www.w3.org/2001/XMLSchema-instance"> <Data> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2021-11-17T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2021-12-01T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2021-12-15T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2021-12-29T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2022-01-12T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2022-01-26T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2022-02-09T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2022-02-23T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2022-03-09T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2022-03-23T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2022-04-06T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2022-04-20T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2022-05-04T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2022-05-18T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2022-06-01T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2022-06-15T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2022-06-29T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2022-07-13T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2022-07-27T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> <ScheduledPayment> <EzidebitCustomerID>2628838</EzidebitCustomerID> <ManuallyAddedPayment>false</ManuallyAddedPayment> <PaymentAmount>12</PaymentAmount> <PaymentDate>2022-08-10T00:00:00</PaymentDate> <PaymentReference i:nil="true"/> <YourGeneralReference i:nil="true"/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </ScheduledPayment> </Data> <Error>0</Error> <ErrorMessage i:nil="true"/> </GetScheduledPaymentsResult> </GetScheduledPaymentsResponse> </s:Body> </s:Envelope>');
            res.setStatusCode(200);

        }else if(req.getBody().contains('<px:ProcessRealtimeTokenPayment>') && req.getBody().contains('<px:paymentAmountInCents>100</px:paymentAmountInCents>')){
            res.setBody('<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"> <s:Body> <ProcessRealtimeTokenPaymentResponse xmlns="https://px.ezidebit.com.au/"> <ProcessRealtimeTokenPaymentResult xmlns:i="http://www.w3.org/2001/XMLSchema-instance"> <Data> <BankReceiptID>30640942</BankReceiptID> <ExchangePaymentID>44703949</ExchangePaymentID><PaymentResult>A</PaymentResult><PaymentResultCode>00</PaymentResultCode><PaymentResultText>APPROVED</PaymentResultText> </Data> <Error>0</Error> <ErrorMessage i:nil="true"/> </ProcessRealtimeTokenPaymentResult></ProcessRealtimeTokenPaymentResponse></s:Body></s:Envelope>');
            res.setStatusCode(200);
        }else if(req.getBody().contains('<px:ProcessRealtimeTokenPayment>') && req.getBody().contains('<px:paymentAmountInCents>156</px:paymentAmountInCents>')){
            res.setBody('<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"> <s:Body> <ProcessRealtimeTokenPaymentResponse xmlns="https://px.ezidebit.com.au/"> <ProcessRealtimeTokenPaymentResult xmlns:i="http://www.w3.org/2001/XMLSchema-instance"> <Data> <BankReceiptID>30640942</BankReceiptID> <ExchangePaymentID>44703949</ExchangePaymentID><PaymentResult>F</PaymentResult><PaymentResultCode>15</PaymentResultCode><PaymentResultText>DECLINED</PaymentResultText> </Data> <Error>0</Error> <ErrorMessage i:nil="true"/> </ProcessRealtimeTokenPaymentResult></ProcessRealtimeTokenPaymentResponse></s:Body></s:Envelope>');
            res.setStatusCode(200);
        }else if(req.getBody().contains('<px:ProcessRefund>') && req.getBody().contains('<px:PaymentID>44601940</px:PaymentID>')){
            res.setBody('<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"> <s:Body> <ProcessRefundResponse xmlns="https://px.ezidebit.com.au/"> <ProcessRefundResult xmlns:i="http://www.w3.org/2001/XMLSchema-instance"> <Data> <RefundPaymentID>888888</RefundPaymentID> <BankReceiptID>930837</BankReceiptID> <RefundResult>A</RefundResult> <RefundResultCode>00</RefundResultCode> <RefundResultText>APPROVED</RefundResultText> </Data> <Error>0</Error> <ErrorMessage i:nil="true"/> </ProcessRefundResult> </ProcessRefundResponse> </s:Body> </s:Envelope>');
            res.setStatusCode(200);
        }else if(req.getBody().contains('<px:ProcessRefund>') && req.getBody().contains('<px:PaymentID>44601995</px:PaymentID>')){
            res.setBody('<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"> <s:Body> <ProcessRefundResponse xmlns="https://px.ezidebit.com.au/"> <ProcessRefundResult xmlns:i="http://www.w3.org/2001/XMLSchema-instance"> <Data> <RefundPaymentID>888888</RefundPaymentID> <BankReceiptID>930837</BankReceiptID> <RefundResult>F</RefundResult> <RefundResultCode>15</RefundResultCode> <RefundResultText>DECLINED</RefundResultText> </Data> <Error>0</Error> <ErrorMessage i:nil="true"/> </ProcessRefundResult> </ProcessRefundResponse> </s:Body> </s:Envelope>');
            res.setStatusCode(200);
        }else if(req.getBody().contains('<px:GetPayments>')){
            res.setBody('<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"> <s:Body> <GetPaymentsResponse xmlns="https://px.ezidebit.com.au/"> <GetPaymentsResult xmlns:i="http://www.w3.org/2001/XMLSchema-instance"> <Data> <Payment> <BankFailedReason/> <BankReceiptID/> <BankReturnCode>0</BankReturnCode> <CustomerName>Nate Angus</CustomerName> <DebitDate>2021-10-26T00:32:35</DebitDate> <EzidebitCustomerID>2612624</EzidebitCustomerID> <InvoiceID>116150</InvoiceID> <PaymentAmount>218.86</PaymentAmount> <PaymentID>SCHEDULED43897073</PaymentID> <PaymentMethod>CR</PaymentMethod> <PaymentReference/> <PaymentSource>SCHEDULED</PaymentSource> <PaymentStatus>S</PaymentStatus> <ScheduledAmount>212</ScheduledAmount> <SettlementDate>2021-10-27T06:31:53</SettlementDate> <TransactionFeeClient>0</TransactionFeeClient> <TransactionFeeCustomer>6.86</TransactionFeeCustomer> <TransactionTime i:nil="true"/> <YourGeneralReference/> <YourSystemReference>A011Y000002LOWDAAA</YourSystemReference> </Payment> </Data> <Error>0</Error> <ErrorMessage i:nil="true"/> </GetPaymentsResult> </GetPaymentsResponse> </s:Body> </s:Envelope>');
            res.setStatusCode(200);
        }else if(req.getBody().contains('<px:GetCustomerDetails>')){
            res.setBody('<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"> <s:Body> <GetCustomerDetailsResponse xmlns="https://px.ezidebit.com.au/"> <GetCustomerDetailsResult xmlns:i="http://www.w3.org/2001/XMLSchema-instance"> <Data> <AddressLine1>AU</AddressLine1> <AddressLine2/> <AddressPostCode>3077</AddressPostCode> <AddressState>TAS</AddressState> <AddressSuburb>31 South Street</AddressSuburb> <ContractStartDate>2021-11-09T00:00:00</ContractStartDate> <CustomerFirstName>Nate</CustomerFirstName> <CustomerName>Angus</CustomerName> <Email>takenlizzy@gmail.com</Email> <EzidebitCustomerID>2628838</EzidebitCustomerID> <MobilePhone>0400000000</MobilePhone> <PaymentMethod>CR</PaymentMethod> <PaymentPeriod>F</PaymentPeriod> <PaymentPeriodDayOfMonth/> <PaymentPeriodDayOfWeek/> <SmsExpiredCard>NO</SmsExpiredCard> <SmsFailedNotification>YES</SmsFailedNotification> <SmsPaymentReminder>NO</SmsPaymentReminder> <StatusCode>A</StatusCode> <StatusDescription>Active</StatusDescription> <TotalPaymentsFailed>0</TotalPaymentsFailed> <TotalPaymentsFailedAmount>0</TotalPaymentsFailedAmount> <TotalPaymentsSuccessful>1</TotalPaymentsSuccessful> <TotalPaymentsSuccessfulAmount>14.46</TotalPaymentsSuccessfulAmount> <YourGeneralReference/> <YourSystemReference>A011Y000002UH2VAAA1636439956485</YourSystemReference> </Data> <Error>0</Error> <ErrorMessage i:nil="true"/> </GetCustomerDetailsResult> </GetCustomerDetailsResponse> </s:Body> </s:Envelope>');
            res.setStatusCode(200);
        }else if(req.getBody().contains('<px:ChangeCustomerStatus>')){
            res.setBody('<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"> <s:Body> <ChangeCustomerStatusResponse xmlns="https://px.ezidebit.com.au/"> <ChangeCustomerStatusResult xmlns:i="http://www.w3.org/2001/XMLSchema-instance"> <Data>S</Data> <Error>0</Error> <ErrorMessage i:nil="true"/> </ChangeCustomerStatusResult> </ChangeCustomerStatusResponse> </s:Body> </s:Envelope>');
            res.setStatusCode(200);
        }else if(req.getBody().contains('<px:GetCustomerAccountDetails>')){
            res.setBody('<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"><s:Body> <GetCustomerAccountDetailsResponse xmlns="https://px.ezidebit.com.au/"> <GetCustomerAccountDetailsResult xmlns:i="http://www.w3.org/2001/XMLSchema-instance"> <Data> <AccountHolderName>JOE SMITH</AccountHolderName> <AccountNumber>XX34</AccountNumber> <BSB>064-001</BSB> <CardHolderName>JOE SMITH</CardHolderName> <CreditCardNumber>424242xxxxxx4242</CreditCardNumber> <ExpiryMonth>12</ExpiryMonth> <ExpiryYear>2012</ExpiryYear> <PaymentMethod>CR</PaymentMethod> </Data> <Error>0</Error> <ErrorMessage i:nil="true"/> </GetCustomerAccountDetailsResult> </GetCustomerAccountDetailsResponse> </s:Body> </s:Envelope>');
            res.setStatusCode(200);
        }else if(req.getBody().contains('<px:CreateSchedule>')){
            res.setBody('<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"> <s:Body> <CreateScheduleResponse xmlns="https://px.ezidebit.com.au/"> <CreateScheduleResult xmlns:i="http://www.w3.org/2001/XMLSchema-instance"> <Data>S</Data> <Error>0</Error> <ErrorMessage i:nil="true" /> </CreateScheduleResult> </CreateScheduleResponse> </s:Body> </s:Envelope>');
            res.setStatusCode(200);
        }
        return res;
    }
}